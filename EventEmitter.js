var e=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function g(){}module.exports=g;
g.prototype.emit=function(a){if(a==="error"&&(!this.a||!this.a.error||e(this.a.error)&&!this.a.error.length))if(arguments[1]instanceof Error)throw arguments[1];else throw Error("Uncaught, unspecified 'error' event.");if(!this.a)return!1;var b=this.a[a];if(!b)return!1;if(typeof b=="function"){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);b.apply(this,
c)}return!0}else if(e(b)){for(var c=Array.prototype.slice.call(arguments,1),b=b.slice(),d=0,f=b.length;d<f;d++)b[d].apply(this,c);return!0}else return!1};g.prototype.on=function(a,b){if("function"!==typeof b)throw Error('"addListener" only takes instances of Function');if(!this.a)this.a={};this.emit("newListener",a,b);this.a[a]?e(this.a[a])?this.a[a].push(b):this.a[a]=[this.a[a],b]:this.a[a]=b;return this};g.prototype.addListener=g.prototype.on;
g.prototype.once=function(a,b){function c(){d.removeListener(a,c);b.apply(this,arguments)}if("function"!==typeof b)throw Error('"once" only takes instances of Function');var d=this;c.b=b;d.c(a,c);return this};
g.prototype.removeListener=function(a,b){if("function"!==typeof b)throw Error('"removeListener" only takes instances of Function');if(!this.a||!this.a[a])return this;var c=this.a[a];if(e(c)){for(var d=-1,f=0,h=c.length;f<h;f++)if(c[f]===b||c[f].b&&c[f].b===b){d=f;break}if(d<0)return this;c.splice(d,1);c.length==0&&delete this.a[a]}else(c===b||c.b&&c.b===b)&&delete this.a[a];return this};g.prototype.removeAllListeners=function(a){a&&this.a&&this.a[a]&&(this.a[a]=null);return this};
g.prototype.listeners=function(a){if(!this.a)this.a={};this.a[a]||(this.a[a]=[]);e(this.a[a])||(this.a[a]=[this.a[a]]);return this.a[a]};